<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Create Task</title>
    <link type="text/css" rel="stylesheet" href="http://localhost:8080/Help-Desk-Web/css/style.css"/>
</h:head>
<h:body>
    <div class="container">
    	<header>
            <nav>
                <ul>
                	<li><h:link outcome="customerDashboard" value="Dashboard"/></li>
                    <li><h:form><h:commandLink action="#{updateProfileBean.prepareEdit(sessionBean.loggedInUser)}" value="Update Profile" /></h:form></li>
                    <li><h:form><h:commandLink action="#{sessionBean.logout}" value="Logout" /></h:form></li>
                </ul>
            </nav>
        </header>
        <h1>Create New Task</h1>
        <h:form>
            <div class="form-group div-form">
                <h:outputLabel for="taskTitle" value="Task Title:" />
                <h:inputText id="taskTitle" value="#{createCustomerTaskBean.task.title}" required="true" requiredMessage="Title is required"/>
            </div>
            <h:message for="taskTitle" styleClass="error-message error-left-margin" />
            <div class="form-group div-form">
                <h:outputLabel for="taskDescription" value="Task Description:" />
                <h:inputTextarea id="taskDescription" value="#{createCustomerTaskBean.task.description}" rows="4" styleClass="default-font" />
            </div>
            <div class="form-group div-form">
                <h:outputLabel for="project" value="Project:" />
                <h:selectOneMenu id="project" value="#{createCustomerTaskBean.selectedProjectId}" required="true" requiredMessage="Project is required">
                    <f:selectItems value="#{createCustomerTaskBean.projects}" var="project"
                                   itemLabel="#{project.name}" itemValue="#{project.id}" />
                </h:selectOneMenu>
            </div>
            <h:message for="project" styleClass="error-message error-left-margin" />
            <div class="form-group div-form">
                <h:outputLabel for="taskType" value="Task Type:" />
                <h:selectOneMenu id="taskType" value="#{createCustomerTaskBean.selectedTaskTypeId}" required="true" requiredMessage="Task type is required">
                    <f:selectItems value="#{createCustomerTaskBean.taskTypes}" var="taskType"
                                   itemLabel="#{taskType.name}" itemValue="#{taskType.id}" />
                </h:selectOneMenu>
            </div>
            <h:message for="taskType" styleClass="error-message error-left-margin" />
            <div>
            	<h:commandButton value="Create Task" action="#{createCustomerTaskBean.createTask}" styleClass="btn btn-success" />
            	<h:link outcome="customerDashboard" value="Cancel" styleClass="btn btn-danger" />
            </div>
        </h:form>
    </div>
</h:body>
</html>