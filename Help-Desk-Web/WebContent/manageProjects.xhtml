<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Manage Projects</title>
    <h:outputStylesheet name="css/styles.css" />
    <link type="text/css" rel="stylesheet" href="http://localhost:8080/Help-Desk-Web/css/style.css"/>
</h:head>
<h:body>
    <div class="container">
    	<header>
            <nav>
                <ul>
                	<li><h:link outcome="adminDashboard" value="Dashboard"/></li>
                    <li><h:form><h:commandLink action="#{updateProfileBean.prepareEdit(sessionBean.loggedInUser)}" value="Update Profile" /></h:form></li>
                    <li><h:form><h:commandLink action="#{sessionBean.logout}" value="Logout" /></h:form></li>
                </ul>
            </nav>
        </header>
        <div class="form-group div-form" style="display: flex;align-items: baseline;">
        	<h2>Project List</h2>
        	<h:link outcome="addProject" value="Add Project" styleClass="btn-success"/>
        </div>
        <h:dataTable value="#{projectBean.projects}" var="project" styleClass="table">
            <h:column>
                <f:facet name="header">ID</f:facet>
                #{project.id}
            </h:column>
            <h:column>
                <f:facet name="header">Name</f:facet>
                #{project.name}
            </h:column>
        
            <h:column>
                <f:facet name="header">Customer</f:facet>
                #{project.customer.username}
            </h:column>
            <h:column>
                <f:facet name="header">Actions</f:facet>
                <h:form>
        			<h:commandButton value="Edit" action="#{projectBean.prepareEdit(project)}" styleClass="btn btn-primary" />
                    <h:commandButton value="Delete" action="#{projectBean.deleteProject(project)}" 
                                     styleClass="btn btn-danger"
                                     onclick="return confirm('Are you sure you want to delete this project?');" />
                </h:form>
            </h:column>
        </h:dataTable>
    </div>
</h:body>
</html>